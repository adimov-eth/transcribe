Ссылка на последний блок, плюс на порт все супермашины, куда ИОН можно будет посылать. А сами субмашины хранятся в этом блоках. Последние подписи на последний блок. Чекпоинты. Я тебе скидывал последний файлик, там как раз описал содержание рутового объекта. Где-то 6-7 полей. И раз в 100 секунд ты запускаешь консенсус, который смотрит, есть ли в мемпуле. А, еще в рутовом объекте TxPool и EventPool. Это те события Трозакс, которые еще не попали в следующий блок, они сидят в руте машины. Соответственно, если ты сайнер этой машины, пропозер, то ты создаешь блоки. Под созданные блоки ты сразу обрабатываешь, там у тебя, допустим, тысяча этих машин на одном компе. А если это хамп, то вообще миллион этих машин. То есть ты проходишь цикл сразу по всем или смотришь, какие сготовлены Трекспулами. И во всех них создаешь блоки, если ты пропозер. И все эти блоки аккумулируешь тем, кому ты их сейчас пошлешь на подпись. По поводу 100 машин ты пошлешь одной сущности, по поводу 300 машин к другому хаму, например. Хотя нет, по поводу множества машин, это скорее канальное будет взаимодействие. А взаимодействие на уровне сообщества, акционерных каких-то. Если ты, например, акционер во многих сущностях и там же в них пропозер, то у тебя могут пересекаться одни и те же люди. То есть ты конкретному сайнеру посылаешь набор разных консенсусных сообщений, связанных с разными машинами. Например, по этой машине мне нужна от тебя подпись, по этой машине такая-то подпись. И они их, соответственно, все получают и так же обрабатывают. Раз в 100 миллисекунд так же обрабатывают все полученные сообщения. То есть сохраняют у себя при коммит и возвращают подпись тому, кто этот запрос послал. И когда финализируется какая-то машина, соответственно, она посылает ивенты вниз, в ивенты-пулы дальше по цепочке. И когда финализируется сайнер, обновляется Ui. То есть они по водопаду все ивенты скатываются в итоге до сайнера. Либо до энтити, которая в данный момент тебя представляет. То есть ты можешь в кошельке выбрать, что ты работаешь сейчас не от лица сайнера, а от лица какой-то другой сущности. А кто у нас в итоге сайнер отправляет в депозиторий факт транзакции? Пропозер. Той сущности, которая хочет взаимодействовать с депозиторием, может только энтити. Взаимодействовать с каналом тоже может только энтити. То есть это конечные лепесточки. И вот сущность энтити. Ты можешь поговорить через канал с другими сущностями. Ты можешь создать диспюты или поменять резервы сразу со всеми сущностями. Либо ты можешь послать в другие подсущности, в которых ты являешься акционером. Но вот это самое менее сейчас важное взаимодействие. То есть можно представить, что есть сайнер, и у него есть возможность посылать сообщение в субмашины. Просто канал, по сути, такой же DAO. Просто на двоих участников. Сыграю. Позову Аймер. Буду писать. Что у тебя болит? Четырнадцатого? Нос. Что, так я добил? Нет, он меня добил. А он тебя добил. Я даже не хочу рассказывать, как мне хуйня. Мне кажется, у меня посттравматический синдром. Интересно, что поменялось. Да я сам себя научился пугать просто. А, это знаешь, как с паническими атаками. Да, это паническая атака на Кетти, вот что мне. Короче, когда первое случается, в следующий раз они случаются быстрее. Потому что ты пугаешься панической атаки. Да, болит быстрее панические атаки. А что, сколько осталось? Или ты выкинул? Да я полтора почти скинул. А, так я же говорю, ты добил его, да? Да, я еще в тот же день. У меня не выживает уже нисколько. Одна из причин, нельзя в дом ебать. Потому что дома в одном и том же месте вообще не будет действовать. Больше, чем два-три раза. Слушай, я хочу в отель поехать, может через недельку. Надо, короче, сотрудник кислоты должен сработать. Чего? Сотрудник кислоты. Так. А сверху Кетти? Пропозор. Так. Ну, соответственно, вход пишется с того, что генерируется рандомный синт. Для Этериум-подписи создается Сайнерская машина, как Генезис машина. И она, например, принимает транзакции каунтер, которые увеличивают какое-то состояние каунтера. Все. А дальше она будет конструировать другие машины. В каком месте наиболее вероятно боттлнэк? Типа, как нагрузить датку системы, потому что она по пизде пошла. Не занимайся преждевременными оптимизациями. Нету никаких боттлнэков? А? Нету боттлнэков. Ну да, ну да, хорошо. Процесс выясним, я сказал. Ну да, да. То есть, тут вся нагрузка идет на хабы. Хаб — это богатая сущность, которая может себе позволить урабать память. Соответственно, можно вообще все машины держать в памяти. То есть тут нагрузка от того, что хаб 1 обрабатывает большую качеству каналов, не делает систему сколько-либо централизованной, так сказать. Потому что другой участник канала держит точно такое же состояние, может пойти в депозитарий и затребовать назад. Как бы это нарисовать-то еб... Депозитарий тоже не боттлнэков. Что? Депозитарий тоже не ограничивает. Потому что если количество транзакций у него уменьшается, например, то есть в 10 раз, это значит, что стоимость комиссии в 10 раз дороже. Это значит, что ты можешь его трогать только если твой юзкейс... А за счет чего твоя система зарабатывает бабло участникам системы? Первое — это комиссии смарт-контракти, которые на каждый ребаланс, допустим, какой-то процент отписывается в общий фонд. Второе — это хабы на переводах зарабатывают комиссии. И третье — хабы берут также за ребаланс, также могут брать по разной комиссии, чтобы взять, так сказать... Это значит, что система зарабатывает гораздо меньше, чем если бы ты, например, через эфир все это делал. Потому что эфир показывает, что у тебя... Эфир тоже продолжает жрать свою часть, которая связана с депозитарием. То есть валидаторы забирают всего комиссию. Плюс еще можно брать за верификацию юзернеймов, так сказать. Чтобы были... Name-сервис вместо хэшей. Главное, потом более хороший депозитарий тоже запустят. Который сможет больше обрабатывать, чем... Чем понадобится примитив RLP из эфира? Это способ кодировки. То есть как блок, так и рутовая ячейка машины — это RLP-закодированный набор данных. Все, ты закодировал, так сказать, RLP заложил в level. Вот и структура машины готова. По-по-по-по-по! А! Ау! Так. У! Вот это да! Спасибо за субтитры Алексею Дубровскому!